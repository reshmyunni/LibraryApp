<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library|SignUp</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <link rel="stylesheet" href="css/temp.css">
</head>

<body>
    <nav class="navbar navbar-expand-sm navbar-custom">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="index.html">HOME</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="Login.html">LOGIN</a>
            </li>
            <li class="nav-item active">
                <a class="nav-link" href="SignUp.html">SIGNUP</a>
            </li>

        </ul>
    </nav>
    <section class="topSection">
        <br><br>
        <div style="float:left;width:300px;">
            <p>Library</p>
        </div>


        <div
            style="width:400px;height:100px;border:2px solid rgb(0,0,68);border-radius:5px;background-color: rgb(17, 17, 102);box-shadow: 5px,5px; margin-right:50px;float:right;">
        </div>
        <!-- <div style="padding: 50px;background-color: white;"></div> -->
    </section>
    <section class="contentSection">
        <form action="">
            <div class="container">
                <div class="table">
                    <div class="row">
                        <div class="col col-12 col-sm-3"></div>

                        <div class="col col-12 col-sm-6" style="margin-top:70px;">
                            <center><h3>SIGNUP</h3></center>
                            <tr>
                                <td>Name</td>
                                <td><input type="text" class="form-control" id="name" valid>
                                    <p id="p_name"></p>
                                </td>
                            </tr>
                            <tr>
                                <td>Address</td>
                                <td><input type="textarea" class="form-control" id="address" valid>
                                    <p id="p_address"></p>
                                </td>
                            </tr>
                            <tr>
                                <td>Email</td>
                                <td><input type="email" class="form-control" id="email" valid>
                                    <p id="p_email"></p>
                                </td>
                            </tr>
                            <tr>
                                <td>Phone</td>
                                <td><input type="tel" class="form-control" id="phone" valid>
                                    <p id="p_phone"></p>
                                </td>
                            </tr>
                            <tr>
                                <td>Password</td>
                                <td><input type="password" class="form-control" id="password" valid>
                                    <p id="p_password"></p>
                                </td>
                            </tr>
                            <tr>
                                <td>Confirm Password</td>
                                <td><input type="password" class="form-control" id="con_password" valid>
                                    <p id="p_con_pwd"></p>
                                </td>
                            </tr>
                            <tr>
                                <td>DOB</td>
                                <td><input type="date" class="form-control" id="dob" valid>
                                    <p id="p_dob"></p>
                                </td>
                            </tr>
                            <tr>
                                <td>Gender</td>
                                <td><input type="radio" name="gender" value="Male">Male
                                    <input type="radio" name="gender" value="Female">Female
                                    <p id="p_gender"></p>
                                </td>
                            </tr><br>
                            <tr>
                                <td colspan="2">
                                    <center><button type="button" class="btn btn-success"
                                            onclick="emptyFieldValidation();">SIGNUP</button></center>

                                </td>
                            </tr><br>


                        </div>
                        <div class="col col-12 col-sm-3"></div>
                    </div>
                </div>
        </form>

    </section>

    <script>
        function emptyFieldValidation() {
            clearErrorText();

            var name = document.getElementById("name").value;
            var address = document.getElementById("address").value;
            var email = document.getElementById("email").value;
            var phone = document.getElementById("phone").value;
            var password = document.getElementById("password").value;
            var conPassword = document.getElementById("con_password").value;
            var dob = document.getElementById("dob").value;
            var flag = false;
            if (name === "") {
                document.getElementById("p_name").innerHTML = "Please enter your name";
                flag = true;
            }
            if (address === "") {
                document.getElementById("p_address").innerHTML = "Please enter your address";
                flag = true;
            }
            if (email === "") {
                document.getElementById("p_email").innerHTML = "Please enter your email";
                flag = true;
            }
            if (phone === "") {
                document.getElementById("p_phone").innerHTML = "Please enter your phone number";
                flag = true;
            }
            if (password === "") {
                document.getElementById("p_password").innerHTML = "Please enter your password";
                flag = true;
            }
            if (conPassword === "") {
                document.getElementById("p_con_pwd").innerHTML = "Please enter your confirm password";
                flag = true;
            }
            if (dob === "") {
                document.getElementById("p_dob").innerHTML = "Please enter your date of birth";
                flag = true;
            }
            const gender = document.querySelectorAll('input[name="gender"]');
            let selectedValue;
            for (const gndr of gender) {
                if (gndr.checked) {
                    selectedValue = gndr.value;
                    break;
                }
            }
            console.log(selectedValue);
            if (typeof selectedValue === "undefined") {
                document.getElementById("p_gender").innerHTML = "Please select your gender";
                flag = true;
            }
            if (flag === false) {
                validate();
            }

        }

        function clearErrorText() {
            document.getElementById("p_name").innerHTML = "";
            document.getElementById("p_address").innerHTML = "";
            document.getElementById("p_email").innerHTML
            document.getElementById("p_phone").innerHTML = "";
            document.getElementById("p_password").innerHTML = "";
            document.getElementById("p_con_pwd").innerHTML = "";
            document.getElementById("p_dob").innerHTML = "";
            document.getElementById("p_gender").innerHTML = "";

        }
        function validate() {

            CheckPassword();
            // CheckPassword();
            checkPhoneNumber();
            ValidateEmail();
            var password = document.getElementById("password").value;
            var conPassword = document.getElementById("con_password").value;
            if (password !== conPassword) {
                document.getElementById("p_con_pwd").innerHTML = "Password and confirm password must be same";
            }
        }
        function ValidateEmail() {
            var inputText = document.getElementById("email");
            var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
            if (inputText.value.match(mailformat)) {
                // document.form1.text1.focus();
                return true;
            }
            else {
                document.getElementById("p_email").innerHTML = "You have entered an invalid email address";
                // document.form1.text1.focus();
                return false;
            }
        }


        function CheckPassword() {
            var password = document.getElementById("password");
            if (password.length === 0) {
                document.getElementById("p_password").innerHTML = "";
                return;
            }
            if (password.length < 8) {
                return;
            }
            var paswd = /^(?=.{8,}$)(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).*$/;
            var matchedCase = new Array();
            matchedCase.push("[A-Z]");      // Uppercase Alpabates
            matchedCase.push("[0-9]");      // Numbers
            matchedCase.push("[a-z]");
            console.log(paswd);
            console.log("password....");
            var color = "";
            var strength = "";
            var ctr = 0;
            for (var i = 0; i < matchedCase.length; i++) {
                if (new RegExp(matchedCase[i]).test(paswd)) {
                    ctr++;
                }
            }

            switch (ctr) {

                case 0: console.log("1 :" + ctr);
                case 1: console.log("2 :" + ctr);
                case 2: console.log("3 :" + ctr);
                    strength = "Poor";
                    color = "red";
                    document.getElementById("p_password").innerHTML = strength;
                    document.getElementById("p_password").style.color = color;
                    break;
                case 3:
                    strength = "Medium";
                    color = "orange";
                    console.log("5 :" + ctr);
                    document.getElementById("p_password").innerHTML = strength;
                    document.getElementById("p_password").style.color = color;
                    break;
                case 4:
                    strength = "Strong";
                    color = "green";
                    console.log("6 :" + ctr);
                    document.getElementById("p_password").innerHTML = strength;
                    document.getElementById("p_password").style.color = color;
                    break;
            }

            // alert('Correct, try another...')
            return true;
            // }
            // else {
            //     alert('Wrong...!')
            //     return false;
            // }
        }
        function checkPhoneNumber() {
            var inputtxt = document.getElementById("phone");
            var phoneno = /^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;
            if (inputtxt.value.match(phoneno)) {
                return true;
            }
            else {
                document.getElementById("p_phone").innerHTML = "Invalid PhoneNo";
                return false;
            }
        }
    </script>
</body>

</html>